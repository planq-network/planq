(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{595:function(e,t,s){"use strict";s.r(t);var a=s(0),o=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"messages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#messages"}},[e._v("#")]),e._v(" Messages")]),e._v(" "),s("h2",{attrs:{id:"msgethereumtx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#msgethereumtx"}},[e._v("#")]),e._v(" MsgEthereumTx")]),e._v(" "),s("p",[e._v("An EVM state transition can be achieved by using the "),s("code",[e._v("MsgEthereumTx")]),e._v(". This message encapsulates an\nEthereum transaction as an SDK message and contains the necessary transaction data fields.")]),e._v(" "),s("p",[e._v("One remark about the "),s("code",[e._v("MsgEthereumTx")]),e._v(" is that it implements both the "),s("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/blob/v0.39.2/types/tx_msg.go#L7-L29",target:"_blank",rel:"noopener noreferrer"}},[s("code",[e._v("sdk.Msg")]),s("OutboundLink")],1),e._v(" and "),s("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/blob/v0.39.2/types/tx_msg.go#L33-L41",target:"_blank",rel:"noopener noreferrer"}},[s("code",[e._v("sdk.Tx")]),s("OutboundLink")],1),e._v("\ninterfaces (generally SDK messages only implement the former, while the latter is a group of\nmessages bundled together). The reason of this, is because the "),s("code",[e._v("MsgEthereumTx")]),e._v(" must not be included in a "),s("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/blob/v0.39.2/x/auth/types/stdtx.go#L23-L30",target:"_blank",rel:"noopener noreferrer"}},[s("code",[e._v("auth.StdTx")]),s("OutboundLink")],1),e._v(" (SDK's standard transaction type) as it performs gas and fee checks using the Ethereum logic from Geth instead of the Cosmos SDK checks done on the "),s("code",[e._v("auth")]),e._v(" module "),s("code",[e._v("AnteHandler")]),e._v(".")]),e._v(" "),s("p",[s("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gTXNnRXRoZXJldW1UeCBlbmNhcHN1bGF0ZXMgYW4gRXRoZXJldW0gdHJhbnNhY3Rpb24gYXMgYW4gU0RLIG1lc3NhZ2UuCnR5cGUgTXNnRXRoZXJldW1UeCBzdHJ1Y3QgewoJRGF0YSBUeERhdGEKCgkvLyBjYWNoZXMKCXNpemUgYXRvbWljLlZhbHVlCglmcm9tIGF0b21pYy5WYWx1ZQp9"}})],1),e._v(" "),s("p",[s("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gVHhEYXRhIGltcGxlbWVudHMgdGhlIEV0aGVyZXVtIHRyYW5zYWN0aW9uIGRhdGEgc3RydWN0dXJlLiBJdCBpcyB1c2VkCi8vIHNvbGVseSBhcyBpbnRlbmRlZCBpbiBFdGhlcmV1bSBhYmlkaW5nIGJ5IHRoZSBwcm90b2NvbC4KdHlwZSBUeERhdGEgc3RydWN0IHsKCUFjY291bnROb25jZSB1aW50NjQgICAgICAgICAgYGpzb246JnF1b3Q7bm9uY2UmcXVvdDtgCglQcmljZSAgICAgICAgKmJpZy5JbnQgICAgICAgIGBqc29uOiZxdW90O2dhc1ByaWNlJnF1b3Q7YAoJR2FzTGltaXQgICAgIHVpbnQ2NCAgICAgICAgICBganNvbjomcXVvdDtnYXMmcXVvdDtgCglSZWNpcGllbnQgICAgKmV0aGNtbi5BZGRyZXNzIGBqc29uOiZxdW90O3RvJnF1b3Q7IHJscDomcXVvdDtuaWwmcXVvdDtgIC8vIG5pbCBtZWFucyBjb250cmFjdCBjcmVhdGlvbgoJQW1vdW50ICAgICAgICpiaWcuSW50ICAgICAgICBganNvbjomcXVvdDt2YWx1ZSZxdW90O2AKCVBheWxvYWQgICAgICBbXWJ5dGUgICAgICAgICAgYGpzb246JnF1b3Q7aW5wdXQmcXVvdDtgCgoJLy8gc2lnbmF0dXJlIHZhbHVlcwoJViAqYmlnLkludCBganNvbjomcXVvdDt2JnF1b3Q7YAoJUiAqYmlnLkludCBganNvbjomcXVvdDtyJnF1b3Q7YAoJUyAqYmlnLkludCBganNvbjomcXVvdDtzJnF1b3Q7YAoKCS8vIGhhc2ggaXMgb25seSB1c2VkIHdoZW4gbWFyc2hhbGluZyB0byBKU09OCglIYXNoICpldGhjbW4uSGFzaCBganNvbjomcXVvdDtoYXNoJnF1b3Q7IHJscDomcXVvdDstJnF1b3Q7YAp9"}})],1),e._v(" "),s("p",[e._v("This message validation is expected to fail if:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("Data.Price")]),e._v(" (i.e gas price) is â‰¤ 0.")]),e._v(" "),s("li",[s("code",[e._v("Data.Amount")]),e._v(" is negative")])]),e._v(" "),s("p",[e._v("The transaction execution is expected to fail if:")]),e._v(" "),s("ul",[s("li",[e._v("Any of the custom "),s("code",[e._v("AnteHandler")]),e._v(" Ethereum decorators checks fail:\n"),s("ul",[s("li",[e._v("Minimum gas amount requirements for transaction")]),e._v(" "),s("li",[e._v("Tx sender account doesn't exist or hasn't enough balance for fees")]),e._v(" "),s("li",[e._v("Account sequence doesn't match the transaction "),s("code",[e._v("Data.AccountNonce")])]),e._v(" "),s("li",[e._v("Message signature verification fails")])])]),e._v(" "),s("li",[e._v("EVM contract creation (i.e "),s("code",[e._v("evm.Create")]),e._v(") fails, or "),s("code",[e._v("evm.Call")]),e._v(" fails")])])])}),[],!1,null,null,null);t.default=o.exports}}]);