<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>State | Planq Documentation</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <meta name="description" content="">
    <meta name="msapplication-TileColor" content="#2e3148">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.18a18f6e.css" as="style"><link rel="preload" href="/assets/js/app.8ef58bd5.js" as="script"><link rel="preload" href="/assets/js/27.80033ee3.js" as="script"><link rel="preload" href="/assets/js/24.f3de3d45.js" as="script"><link rel="preload" href="/assets/js/23.20171674.js" as="script"><link rel="preload" href="/assets/js/28.94d514cd.js" as="script"><link rel="preload" href="/assets/js/57.73461461.js" as="script"><link rel="preload" href="/assets/js/41.b938ef88.js" as="script"><link rel="preload" href="/assets/js/14.fd987f63.js" as="script"><link rel="preload" href="/assets/js/11.3acba2a2.js" as="script"><link rel="preload" href="/assets/js/112.6bc6b84f.js" as="script"><link rel="preload" href="/assets/js/5.93e4b9e7.js" as="script"><link rel="preload" href="/assets/js/9.803ced14.js" as="script"><link rel="preload" href="/assets/js/39.463897c0.js" as="script"><link rel="preload" href="/assets/js/17.abd2498d.js" as="script"><link rel="preload" href="/assets/js/16.031598e8.js" as="script"><link rel="preload" href="/assets/js/29.ce14c24e.js" as="script"><link rel="prefetch" href="/assets/js/10.f5d190d6.js"><link rel="prefetch" href="/assets/js/100.825bc74e.js"><link rel="prefetch" href="/assets/js/101.06b0d5fc.js"><link rel="prefetch" href="/assets/js/102.afaf29ce.js"><link rel="prefetch" href="/assets/js/103.5e25fb30.js"><link rel="prefetch" href="/assets/js/104.dc68fe65.js"><link rel="prefetch" href="/assets/js/105.61d04f9b.js"><link rel="prefetch" href="/assets/js/106.75bcb66e.js"><link rel="prefetch" href="/assets/js/107.72259f5f.js"><link rel="prefetch" href="/assets/js/108.58feed1a.js"><link rel="prefetch" href="/assets/js/109.27a53e1c.js"><link rel="prefetch" href="/assets/js/110.574380b2.js"><link rel="prefetch" href="/assets/js/111.7f8e2a14.js"><link rel="prefetch" href="/assets/js/113.e9da7b9c.js"><link rel="prefetch" href="/assets/js/114.f50b883e.js"><link rel="prefetch" href="/assets/js/115.368d5d38.js"><link rel="prefetch" href="/assets/js/116.7a030660.js"><link rel="prefetch" href="/assets/js/117.4c8518e8.js"><link rel="prefetch" href="/assets/js/118.12cc2ef0.js"><link rel="prefetch" href="/assets/js/119.58327b1e.js"><link rel="prefetch" href="/assets/js/12.1b034387.js"><link rel="prefetch" href="/assets/js/120.57873c22.js"><link rel="prefetch" href="/assets/js/121.6db83f59.js"><link rel="prefetch" href="/assets/js/122.cd0b4a34.js"><link rel="prefetch" href="/assets/js/123.bd4218ae.js"><link rel="prefetch" href="/assets/js/124.ee08fc79.js"><link rel="prefetch" href="/assets/js/125.d9582ed4.js"><link rel="prefetch" href="/assets/js/126.4dc7e7b9.js"><link rel="prefetch" href="/assets/js/127.27a01c37.js"><link rel="prefetch" href="/assets/js/128.36749904.js"><link rel="prefetch" href="/assets/js/129.a3ca4f6a.js"><link rel="prefetch" href="/assets/js/13.3fb49d5c.js"><link rel="prefetch" href="/assets/js/130.154c743b.js"><link rel="prefetch" href="/assets/js/131.5af6da99.js"><link rel="prefetch" href="/assets/js/132.35d5f63b.js"><link rel="prefetch" href="/assets/js/133.d14ee387.js"><link rel="prefetch" href="/assets/js/134.c0cc334a.js"><link rel="prefetch" href="/assets/js/135.cafd3f24.js"><link rel="prefetch" href="/assets/js/136.0d529d99.js"><link rel="prefetch" href="/assets/js/137.71ccb92d.js"><link rel="prefetch" href="/assets/js/138.ba53a888.js"><link rel="prefetch" href="/assets/js/139.d4ad8383.js"><link rel="prefetch" href="/assets/js/140.f912deed.js"><link rel="prefetch" href="/assets/js/141.97314b36.js"><link rel="prefetch" href="/assets/js/142.a87ca786.js"><link rel="prefetch" href="/assets/js/143.1b6edd54.js"><link rel="prefetch" href="/assets/js/144.dd67d7f3.js"><link rel="prefetch" href="/assets/js/145.f6a27ab3.js"><link rel="prefetch" href="/assets/js/146.61021fc8.js"><link rel="prefetch" href="/assets/js/147.2348f6ff.js"><link rel="prefetch" href="/assets/js/148.5b8751f1.js"><link rel="prefetch" href="/assets/js/149.2d33b2c3.js"><link rel="prefetch" href="/assets/js/15.f6b44850.js"><link rel="prefetch" href="/assets/js/150.a98a62dc.js"><link rel="prefetch" href="/assets/js/151.4cf26255.js"><link rel="prefetch" href="/assets/js/152.d98ec304.js"><link rel="prefetch" href="/assets/js/153.5a891e71.js"><link rel="prefetch" href="/assets/js/154.209aff2d.js"><link rel="prefetch" href="/assets/js/155.a9d97eac.js"><link rel="prefetch" href="/assets/js/156.0595a4f9.js"><link rel="prefetch" href="/assets/js/157.2038073b.js"><link rel="prefetch" href="/assets/js/158.1be6917a.js"><link rel="prefetch" href="/assets/js/159.f15f897a.js"><link rel="prefetch" href="/assets/js/160.fb693875.js"><link rel="prefetch" href="/assets/js/161.61eef37d.js"><link rel="prefetch" href="/assets/js/162.19328ce2.js"><link rel="prefetch" href="/assets/js/163.24b29e88.js"><link rel="prefetch" href="/assets/js/164.3d96a78c.js"><link rel="prefetch" href="/assets/js/165.e29f8cc6.js"><link rel="prefetch" href="/assets/js/166.8aad2564.js"><link rel="prefetch" href="/assets/js/167.802f6c2e.js"><link rel="prefetch" href="/assets/js/168.7d78e7d3.js"><link rel="prefetch" href="/assets/js/169.b5e9dbfd.js"><link rel="prefetch" href="/assets/js/170.34bc3235.js"><link rel="prefetch" href="/assets/js/171.4952afeb.js"><link rel="prefetch" href="/assets/js/172.3d570246.js"><link rel="prefetch" href="/assets/js/173.06b40649.js"><link rel="prefetch" href="/assets/js/174.9cd47ea2.js"><link rel="prefetch" href="/assets/js/175.f0f8ee2a.js"><link rel="prefetch" href="/assets/js/176.8a5fa8c4.js"><link rel="prefetch" href="/assets/js/177.dfe5e5bd.js"><link rel="prefetch" href="/assets/js/178.c55455ed.js"><link rel="prefetch" href="/assets/js/179.680032d2.js"><link rel="prefetch" href="/assets/js/18.77fbe1b4.js"><link rel="prefetch" href="/assets/js/19.098863a5.js"><link rel="prefetch" href="/assets/js/2.868977f1.js"><link rel="prefetch" href="/assets/js/20.98980404.js"><link rel="prefetch" href="/assets/js/21.cf2376d1.js"><link rel="prefetch" href="/assets/js/22.b6e6d873.js"><link rel="prefetch" href="/assets/js/25.fbb50a4a.js"><link rel="prefetch" href="/assets/js/26.22a6fb48.js"><link rel="prefetch" href="/assets/js/3.35021a17.js"><link rel="prefetch" href="/assets/js/30.0a733e2b.js"><link rel="prefetch" href="/assets/js/31.8f20d060.js"><link rel="prefetch" href="/assets/js/32.094263fa.js"><link rel="prefetch" href="/assets/js/33.d0439b5e.js"><link rel="prefetch" href="/assets/js/34.d8527116.js"><link rel="prefetch" href="/assets/js/35.a27fa1f3.js"><link rel="prefetch" href="/assets/js/36.9af2964c.js"><link rel="prefetch" href="/assets/js/37.66d0dfdd.js"><link rel="prefetch" href="/assets/js/38.7fe35143.js"><link rel="prefetch" href="/assets/js/4.69a73668.js"><link rel="prefetch" href="/assets/js/40.7f828fa5.js"><link rel="prefetch" href="/assets/js/42.8c9026b9.js"><link rel="prefetch" href="/assets/js/43.57922b37.js"><link rel="prefetch" href="/assets/js/44.8d49f4d9.js"><link rel="prefetch" href="/assets/js/45.6cb82eab.js"><link rel="prefetch" href="/assets/js/46.494bdfc1.js"><link rel="prefetch" href="/assets/js/47.854f8a37.js"><link rel="prefetch" href="/assets/js/48.1d7b4f07.js"><link rel="prefetch" href="/assets/js/49.75261051.js"><link rel="prefetch" href="/assets/js/50.9d263d64.js"><link rel="prefetch" href="/assets/js/51.72aedfa4.js"><link rel="prefetch" href="/assets/js/52.9718e877.js"><link rel="prefetch" href="/assets/js/53.8acfdb35.js"><link rel="prefetch" href="/assets/js/54.9e4a8f59.js"><link rel="prefetch" href="/assets/js/55.b4b4e241.js"><link rel="prefetch" href="/assets/js/56.750824f4.js"><link rel="prefetch" href="/assets/js/58.ab44c976.js"><link rel="prefetch" href="/assets/js/59.67897a13.js"><link rel="prefetch" href="/assets/js/6.e7c520b2.js"><link rel="prefetch" href="/assets/js/60.349ad791.js"><link rel="prefetch" href="/assets/js/61.38aa9e9f.js"><link rel="prefetch" href="/assets/js/62.7572b545.js"><link rel="prefetch" href="/assets/js/63.e164f494.js"><link rel="prefetch" href="/assets/js/64.55735917.js"><link rel="prefetch" href="/assets/js/65.0a108847.js"><link rel="prefetch" href="/assets/js/66.3eb9edae.js"><link rel="prefetch" href="/assets/js/67.57bf0091.js"><link rel="prefetch" href="/assets/js/68.bf53dce7.js"><link rel="prefetch" href="/assets/js/69.f77e0d73.js"><link rel="prefetch" href="/assets/js/7.3f3c6db3.js"><link rel="prefetch" href="/assets/js/70.c3b76140.js"><link rel="prefetch" href="/assets/js/71.d68bf387.js"><link rel="prefetch" href="/assets/js/72.9c82b714.js"><link rel="prefetch" href="/assets/js/73.80e35652.js"><link rel="prefetch" href="/assets/js/74.d88e1219.js"><link rel="prefetch" href="/assets/js/75.c4ca9417.js"><link rel="prefetch" href="/assets/js/76.4f498f14.js"><link rel="prefetch" href="/assets/js/77.90698966.js"><link rel="prefetch" href="/assets/js/78.f5ff13e8.js"><link rel="prefetch" href="/assets/js/79.3c8f2d47.js"><link rel="prefetch" href="/assets/js/8.d262b246.js"><link rel="prefetch" href="/assets/js/80.df63952c.js"><link rel="prefetch" href="/assets/js/81.0cf370a7.js"><link rel="prefetch" href="/assets/js/82.43010a82.js"><link rel="prefetch" href="/assets/js/83.ea97c367.js"><link rel="prefetch" href="/assets/js/84.b7b42753.js"><link rel="prefetch" href="/assets/js/85.6ba4e263.js"><link rel="prefetch" href="/assets/js/86.eb28d458.js"><link rel="prefetch" href="/assets/js/87.ab58714f.js"><link rel="prefetch" href="/assets/js/88.571d5c03.js"><link rel="prefetch" href="/assets/js/89.5bdb5585.js"><link rel="prefetch" href="/assets/js/90.2c9f0cb7.js"><link rel="prefetch" href="/assets/js/91.e2350e7a.js"><link rel="prefetch" href="/assets/js/92.150df033.js"><link rel="prefetch" href="/assets/js/93.37e97b6c.js"><link rel="prefetch" href="/assets/js/94.0bb4e641.js"><link rel="prefetch" href="/assets/js/95.d5589705.js"><link rel="prefetch" href="/assets/js/96.0eb3c0ee.js"><link rel="prefetch" href="/assets/js/97.9d3dc1dd.js"><link rel="prefetch" href="/assets/js/98.719048f8.js"><link rel="prefetch" href="/assets/js/99.b6fa41a8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.18a18f6e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div data-v-58560e81><div data-v-40401285 data-v-58560e81><div class="banner-wrapper" data-v-40401285 data-v-40401285><div class="wrapper" data-v-40401285><div class="message" data-v-40401285>By using this website, you agree to our <a href="https://www.cookiesandyou.com" target="_blank" rel="noopener" style="color:#505FFF;" data-v-40401285>Cookie Policy</a>.</div> <div class="box" data-v-40401285><span class="icon-cross" data-v-40401285><svg width="16" height="16" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-40401285><path d="M1.66669 1.66669L12.3334 12.3334M12.3334 1.66669L1.66664 12.3334" stroke="#A2A3AD" stroke-width="1.5" stroke-linecap="round" data-v-40401285></path></svg></span></div></div></div></div><!----><div class="layout" data-v-58560e81><div class="layout__sidebar" data-v-58560e81><div style="height:100%;position:relative;" data-v-25cba946 data-v-58560e81><div class="container" data-v-25cba946><a href="/" class="logo__container router-link-active" data-v-25cba946><div class="logo" data-v-25cba946><div class="logo__img__custom" data-v-25cba946><img src="/planq-logo.svg" data-v-25cba946></div><!----></div></a><div class="items footer__compact__false" data-v-25cba946><div class="sidebar" style="display:none;" data-v-25cba946><div class="title" data-v-25cba946></div><!----></div><div class="sidebar" style="display:block;" data-v-25cba946><div class="title" data-v-25cba946>About Planq</div><!----></div><div class="sidebar" style="display:block;" data-v-25cba946><div class="title" data-v-25cba946>For Users</div><!----></div><div class="sidebar" style="display:block;" data-v-25cba946><div class="title" data-v-25cba946>For dApp Devs</div><!----></div><div class="sidebar" style="display:block;" data-v-25cba946><div class="title" data-v-25cba946>For Protocol Devs</div><!----></div><div class="sidebar" style="display:block;" data-v-25cba946><div class="title" data-v-25cba946>For Validators</div><!----></div><div class="sidebar" style="display:block;" data-v-25cba946><div class="title" data-v-25cba946>Block Explorers</div><!----></div><div class="sidebar version" data-v-25cba946><div data-v-08503e1b data-v-25cba946><div class="container" data-v-08503e1b><span class="sr-only" data-v-08503e1b>Docs Version Switcher</span><div class="select" data-v-08503e1b><select data-v-08503e1b><option value="" disabled="disabled" data-v-08503e1b>Version</option><option value="main" data-v-08503e1b>main</option></select></div></div></div></div></div><!----></div></div></div><div class="layout__main" data-v-58560e81><div class="layout__main__navbar" data-v-58560e81><div data-v-19189c02 data-v-58560e81><div class="container" data-v-19189c02><div class="menu" data-v-19189c02><div class="menu__icon" data-v-19189c02><svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#888" data-v-19189c02><path d="M2 5H22M2 12H22M2 19H22" stroke-width="1.5" stroke-linecap="round"></path></svg></div></div><div class="logo" data-v-19189c02><div class="logo__wrapper router-link-active" data-v-19189c02><div class="logo__image__custom" data-v-19189c02><img src="/planq-logo.svg" class="logo__image__custom__img" data-v-19189c02></div><!----></div></div><div class="toolbar" data-v-19189c02><div class="toolbar__item" data-v-19189c02><div class="toolbar__item__icon" data-v-19189c02><svg width="100%" height="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#888" data-v-19189c02><path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 2.75C6.66751 2.75 2.75 6.66751 2.75 11.5C2.75 16.3325 6.66751 20.25 11.5 20.25C13.6462 20.25 15.612 19.4773 17.1342 18.1949L22.6697 23.7303C22.9626 24.0232 23.4374 24.0232 23.7303 23.7303C24.0232 23.4374 24.0232 22.9626 23.7303 22.6697L18.1949 17.1342C19.4773 15.612 20.25 13.6462 20.25 11.5C20.25 6.66751 16.3325 2.75 11.5 2.75ZM16.6923 16.5599C17.9656 15.2535 18.75 13.4684 18.75 11.5C18.75 7.49594 15.5041 4.25 11.5 4.25C7.49594 4.25 4.25 7.49594 4.25 11.5C4.25 15.5041 7.49594 18.75 11.5 18.75C13.4684 18.75 15.2535 17.9656 16.5599 16.6923C16.5789 16.6679 16.5996 16.6444 16.622 16.622C16.6444 16.5996 16.6679 16.5789 16.6923 16.5599Z"></path></svg></div></div></div></div></div></div><div class="layout__main__content aside__true" data-v-58560e81><div id="content-scroll" class="layout__main__content__body" data-v-58560e81><div class="layout__main__content__body__breadcrumbs" data-v-58560e81><div data-v-48fb2d7a data-v-58560e81><div class="container" data-v-48fb2d7a><div class="crumbs" data-v-48fb2d7a><a href="/" class="crumbs__item router-link-active" data-v-48fb2d7a>Planq Documentation</a><a href="/modules/" class="crumbs__item router-link-active" data-v-48fb2d7a>List of Modules</a><a href="/modules/evm/" class="crumbs__item router-link-active" data-v-48fb2d7a>`evm`</a><a href="/modules/evm/02_state.html" aria-current="page" class="crumbs__item router-link-exact-active router-link-active" data-v-48fb2d7a>State</a></div><div class="menu" data-v-48fb2d7a><div class="menu__item" style="visibility:visible;" data-v-48fb2d7a><svg width="100%" height="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="menu__item__icon menu__item__icon__active__false" data-v-48fb2d7a><path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 2C0.25 1.58579 0.585786 1.25 1 1.25H6C6.41421 1.25 6.75 1.58579 6.75 2C6.75 2.41421 6.41421 2.75 6 2.75H1C0.585786 2.75 0.25 2.41421 0.25 2ZM17.53 22.7803L16.9997 22.25L17.53 22.7803L17.5301 22.7802L17.5305 22.7798L17.5322 22.7781L17.5388 22.7715L17.5647 22.7456L17.6647 22.6456L18.0367 22.2737L19.2978 21.0126L22.53 17.7803C22.8229 17.4874 22.8229 17.0126 22.53 16.7197C22.2371 16.4268 21.7622 16.4268 21.4693 16.7197L18.2371 19.9519L17.7497 20.4393V8.5C17.7497 6.34186 17.0721 4.51182 15.7802 3.21983C14.4882 1.92783 12.6581 1.25031 10.5 1.25031C10.0858 1.25031 9.75 1.5861 9.75 2.00031C9.75 2.41453 10.0858 2.75031 10.5 2.75031C12.3419 2.75031 13.7617 3.32264 14.7195 4.28049C15.6773 5.23834 16.2497 6.65814 16.2497 8.5L16.2497 20.4393L12.53 16.7197C12.2371 16.4268 11.7622 16.4268 11.4693 16.7197C11.1764 17.0126 11.1764 17.4874 11.4693 17.7803L16.4693 22.7803L16.9997 23.3107L17.53 22.7803ZM1 6.25C0.585786 6.25 0.25 6.58579 0.25 7C0.25 7.41421 0.585786 7.75 1 7.75H10C10.4142 7.75 10.75 7.41421 10.75 7C10.75 6.58579 10.4142 6.25 10 6.25H1ZM0.25 12C0.25 11.5858 0.585786 11.25 1 11.25H12C12.4142 11.25 12.75 11.5858 12.75 12C12.75 12.4142 12.4142 12.75 12 12.75H1C0.585786 12.75 0.25 12.4142 0.25 12ZM1 16.25C0.585786 16.25 0.25 16.5858 0.25 17C0.25 17.4142 0.585786 17.75 1 17.75H8C8.41421 17.75 8.75 17.4142 8.75 17C8.75 16.5858 8.41421 16.25 8 16.25H1Z" data-v-48fb2d7a></path></svg><!----></div></div></div></div></div><div class="layout__main__content__body__wrapper" data-v-58560e81><div style="width:100%;" data-v-c85ed208 data-v-58560e81><div class="search__container" data-v-c85ed208><div class="search" data-v-c85ed208><div class="search__icon" data-v-c85ed208><svg width="100%" height="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-v-c85ed208><path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 2.75C6.66751 2.75 2.75 6.66751 2.75 11.5C2.75 16.3325 6.66751 20.25 11.5 20.25C13.6462 20.25 15.612 19.4773 17.1342 18.1949L22.6697 23.7303C22.9626 24.0232 23.4374 24.0232 23.7303 23.7303C24.0232 23.4374 24.0232 22.9626 23.7303 22.6697L18.1949 17.1342C19.4773 15.612 20.25 13.6462 20.25 11.5C20.25 6.66751 16.3325 2.75 11.5 2.75ZM16.6923 16.5599C17.9656 15.2535 18.75 13.4684 18.75 11.5C18.75 7.49594 15.5041 4.25 11.5 4.25C7.49594 4.25 4.25 7.49594 4.25 11.5C4.25 15.5041 7.49594 18.75 11.5 18.75C13.4684 18.75 15.2535 17.9656 16.5599 16.6923C16.5789 16.6679 16.5996 16.6444 16.622 16.622C16.6444 16.5996 16.6679 16.5789 16.6923 16.5599Z"></path></svg></div><div class="search__text" data-v-c85ed208>Search</div></div></div><div class="container" data-v-c85ed208><div class="content__default" data-v-58560e81><h1 id="state"><a href="#state" class="header-anchor">#</a> State</h1> <p>This section gives you an overview of the objects stored in the <code>x/evm</code> module state, functionalities that are derived from the go-ethereum <code>StateDB</code> interface, and its implementation through the Keeper as well as the state implementation at genesis.</p> <h2 id="state-objects"><a href="#state-objects" class="header-anchor">#</a> State Objects</h2> <p>The <code>x/evm</code> module keeps the following objects in state:</p> <h3 id="state-2"><a href="#state-2" class="header-anchor">#</a> State</h3> <table><thead><tr><th></th> <th>Description</th> <th>Key</th> <th>Value</th> <th>Store</th></tr></thead> <tbody><tr><td>Code</td> <td>Smart contract bytecode</td> <td><code>[]byte{1} + []byte(address)</code></td> <td><code>[]byte{code}</code></td> <td>KV</td></tr> <tr><td>Storage</td> <td>Smart contract storage</td> <td><code>[]byte{2} + [32]byte{key}</code></td> <td><code>[32]byte(value)</code></td> <td>KV</td></tr> <tr><td>Block Bloom</td> <td>Block bloom filter, used to accumulate the bloom filter of current block, emitted to events at end blocker.</td> <td><code>[]byte{1} + []byte(tx.Hash)</code></td> <td><code>protobuf([]Log)</code></td> <td>Transient</td></tr> <tr><td>Tx Index</td> <td>Index of current transaction in current block.</td> <td><code>[]byte{2}</code></td> <td><code>BigEndian(uint64)</code></td> <td>Transient</td></tr> <tr><td>Log Size</td> <td>Number of the logs emitted so far in current block. Used to decide the log index of following logs.</td> <td><code>[]byte{3}</code></td> <td><code>BigEndian(uint64)</code></td> <td>Transient</td></tr> <tr><td>Gas Used</td> <td>Amount of gas used by ethereum messages of current cosmos-sdk tx, it's necessary when cosmos-sdk tx contains multiple ethereum messages.</td> <td><code>[]byte{4}</code></td> <td><code>BigEndian(uint64)</code></td> <td>Transient</td></tr></tbody></table> <h2 id="statedb"><a href="#statedb" class="header-anchor">#</a> StateDB</h2> <p>The <code>StateDB</code> interface is implemented by the <code>StateDB</code> in the <code>x/evm/statedb</code> module to represent an EVM database for full state querying of both contracts and accounts. Within the Ethereum protocol, <code>StateDB</code>s are used to store anything within the IAVL tree and take care of caching and storing nested states.</p> <span class="codeblock" data-v-1eda75b2><span class="container codeblock__hasfooter__false codeblock__is-expandable__false codeblock__expanded__false" data-v-1eda75b2><span class="body__container" data-v-1eda75b2><span class="body__block" data-v-1eda75b2><span class="icons" data-v-1eda75b2><!----> <span class="icons__item" data-v-1eda75b2><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="icons__item__icon" data-v-1eda75b2><path fill-rule="evenodd" clip-rule="evenodd" d="M11 0.25C10.0335 0.25 9.25 1.0335 9.25 2V4.5H10.75V2C10.75 1.86193 10.8619 1.75 11 1.75H21C21.1381 1.75 21.25 1.86193 21.25 2V16C21.25 16.1381 21.1381 16.25 21 16.25H16.5V17.75H21C21.9665 17.75 22.75 16.9665 22.75 16V2C22.75 1.0335 21.9665 0.25 21 0.25H11ZM3 6.25C2.0335 6.25 1.25 7.0335 1.25 8V22C1.25 22.9665 2.0335 23.75 3 23.75H13C13.9665 23.75 14.75 22.9665 14.75 22V8C14.75 7.0335 13.9665 6.25 13 6.25H3ZM2.75 8C2.75 7.86193 2.86193 7.75 3 7.75H13C13.1381 7.75 13.25 7.86193 13.25 8V22C13.25 22.1381 13.1381 22.25 13 22.25H3C2.86193 22.25 2.75 22.1381 2.75 22V8Z" data-v-1eda75b2></path></svg> <span class="icons__item__tooltip" data-v-1eda75b2>
              Copy
            </span></span></span> <span class="body" data-v-1eda75b2><span class="body__wrapper" data-v-1eda75b2><span class="body__code" data-v-1eda75b2><span class="token comment">// github.com/ethereum/go-ethereum/core/vm/interface.go</span>
<span class="token keyword">type</span> StateDB <span class="token keyword">interface</span> <span class="token punctuation">{</span>
 <span class="token function">CreateAccount</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">)</span>

 <span class="token function">SubBalance</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> <span class="token operator">*</span>big<span class="token punctuation">.</span>Int<span class="token punctuation">)</span>
 <span class="token function">AddBalance</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> <span class="token operator">*</span>big<span class="token punctuation">.</span>Int<span class="token punctuation">)</span>
 <span class="token function">GetBalance</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">)</span> <span class="token operator">*</span>big<span class="token punctuation">.</span>Int

 <span class="token function">GetNonce</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">)</span> <span class="token builtin">uint64</span>
 <span class="token function">SetNonce</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> <span class="token builtin">uint64</span><span class="token punctuation">)</span>

 <span class="token function">GetCodeHash</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">)</span> common<span class="token punctuation">.</span>Hash
 <span class="token function">GetCode</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span>
 <span class="token function">SetCode</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span>
 <span class="token function">GetCodeSize</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">)</span> <span class="token builtin">int</span>

 <span class="token function">AddRefund</span><span class="token punctuation">(</span><span class="token builtin">uint64</span><span class="token punctuation">)</span>
 <span class="token function">SubRefund</span><span class="token punctuation">(</span><span class="token builtin">uint64</span><span class="token punctuation">)</span>
 <span class="token function">GetRefund</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">uint64</span>

 <span class="token function">GetCommittedState</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> common<span class="token punctuation">.</span>Hash<span class="token punctuation">)</span> common<span class="token punctuation">.</span>Hash
 <span class="token function">GetState</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> common<span class="token punctuation">.</span>Hash<span class="token punctuation">)</span> common<span class="token punctuation">.</span>Hash
 <span class="token function">SetState</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> common<span class="token punctuation">.</span>Hash<span class="token punctuation">,</span> common<span class="token punctuation">.</span>Hash<span class="token punctuation">)</span>

 <span class="token function">Suicide</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">)</span> <span class="token builtin">bool</span>
 <span class="token function">HasSuicided</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">)</span> <span class="token builtin">bool</span>

 <span class="token comment">// Exist reports whether the given account exists in state.</span>
 <span class="token comment">// Notably this should also return true for suicided accounts.</span>
 <span class="token function">Exist</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">)</span> <span class="token builtin">bool</span>
 <span class="token comment">// Empty returns whether the given account is empty. Empty</span>
 <span class="token comment">// is defined according to EIP161 (balance = nonce = code = 0).</span>
 <span class="token function">Empty</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">)</span> <span class="token builtin">bool</span>

 <span class="token function">PrepareAccessList</span><span class="token punctuation">(</span>sender common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> dest <span class="token operator">*</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> precompiles <span class="token punctuation">[</span><span class="token punctuation">]</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> txAccesses types<span class="token punctuation">.</span>AccessList<span class="token punctuation">)</span>
 <span class="token function">AddressInAccessList</span><span class="token punctuation">(</span>addr common<span class="token punctuation">.</span>Address<span class="token punctuation">)</span> <span class="token builtin">bool</span>
 <span class="token function">SlotInAccessList</span><span class="token punctuation">(</span>addr common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> slot common<span class="token punctuation">.</span>Hash<span class="token punctuation">)</span> <span class="token punctuation">(</span>addressOk <span class="token builtin">bool</span><span class="token punctuation">,</span> slotOk <span class="token builtin">bool</span><span class="token punctuation">)</span>
 <span class="token comment">// AddAddressToAccessList adds the given address to the access list. This operation is safe to perform</span>
 <span class="token comment">// even if the feature/fork is not active yet</span>
 <span class="token function">AddAddressToAccessList</span><span class="token punctuation">(</span>addr common<span class="token punctuation">.</span>Address<span class="token punctuation">)</span>
 <span class="token comment">// AddSlotToAccessList adds the given (address,slot) to the access list. This operation is safe to perform</span>
 <span class="token comment">// even if the feature/fork is not active yet</span>
 <span class="token function">AddSlotToAccessList</span><span class="token punctuation">(</span>addr common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> slot common<span class="token punctuation">.</span>Hash<span class="token punctuation">)</span>

 <span class="token function">RevertToSnapshot</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
 <span class="token function">Snapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span>

 <span class="token function">AddLog</span><span class="token punctuation">(</span><span class="token operator">*</span>types<span class="token punctuation">.</span>Log<span class="token punctuation">)</span>
 <span class="token function">AddPreimage</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Hash<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span>

 <span class="token function">ForEachStorage</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>common<span class="token punctuation">.</span>Hash<span class="token punctuation">,</span> common<span class="token punctuation">.</span>Hash<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
<span class="token punctuation">}</span>
</span></span></span></span> <!----></span> <!----></span></span> <p>The <code>StateDB</code> in the <code>x/evm</code> provides the following functionalities:</p> <h3 id="crud-of-ethereum-accounts"><a href="#crud-of-ethereum-accounts" class="header-anchor">#</a> CRUD of Ethereum accounts</h3> <p>You can create <code>EthAccount</code> instances from the provided address and set the value to store on the  <code>AccountKeeper</code>with <code>createAccount()</code>. If an account with the given address already exists, this function also resets any preexisting code and storage associated with that address.</p> <p>An account's coin balance can be is managed through the <code>BankKeeper</code> and can be read with <code>GetBalance()</code> and updated with <code>AddBalance()</code> and <code>SubBalance()</code>.</p> <ul><li><code>GetBalance()</code> returns the EVM denomination balance of the provided address. The denomination is obtained from the module parameters.</li> <li><code>AddBalance()</code> adds the given amount to the address balance coin by minting new coins and transferring them to the address. The coin denomination is obtained from the module parameters.</li> <li><code>SubBalance()</code> subtracts the given amount from the address balance by transferring the coins to an escrow account and then burning them. The coin denomination is obtained from the module parameters. This function performs a no-op if the amount is negative or the user doesn't have enough funds for the transfer.</li></ul> <p>The nonce (or transaction sequence) can be obtained from the Account <code>Sequence</code> via the auth module <code>AccountKeeper</code>.</p> <ul><li><code>GetNonce()</code> retrieves the account with the given address and returns the tx sequence (i.e nonce). The function performs a no-op if the account is not found.</li> <li><code>SetNonce()</code> sets the given nonce as the sequence of the address' account. If the account doesn't exist, a new one will be created from the address.</li></ul> <p>The smart contract bytecode containing arbitrary contract logic is stored on the <code>EVMKeeper</code> and it can be queried with <code>GetCodeHash()</code> ,<code>GetCode()</code> &amp; <code>GetCodeSize()</code>and updated with <code>SetCode()</code>.</p> <ul><li><code>GetCodeHash()</code> fetches the account from the store and returns its code hash. If the account doesn't exist or is not an EthAccount type, it returns the empty code hash value.</li> <li><code>GetCode()</code> returns the code byte array associated with the given address. If the code hash from the account is empty, this function returns nil.</li> <li><code>SetCode()</code> stores the code byte array to the application KVStore and sets the code hash to the given account. The code is deleted from the store if it is empty.</li> <li><code>GetCodeSize()</code> returns the size of the contract code associated with this object, or zero if none.</li></ul> <p>Gas refunded needs to be tracked and stored in a separate variable in
order to add it subtract/add it from/to the gas used value after the EVM
execution has finalized. The refund value is cleared on every transaction and at the end of every block.</p> <ul><li><code>AddRefund()</code> adds the given amount of gas to the in-memory refund value.</li> <li><code>SubRefund()</code> subtracts the given amount of gas from the in-memory refund value. This function will panic if gas amount is greater than the current refund.</li> <li><code>GetRefund()</code> returns the amount of gas available for return after the tx execution finalizes. This value is reset to 0 on every transaction.</li></ul> <p>The state is stored on the <code>EVMKeeper</code>. It can be queried with <code>GetCommittedState()</code>, <code>GetState()</code> and updated with <code>SetState()</code>.</p> <ul><li><code>GetCommittedState()</code> returns the value set in store for the given key hash. If the key is not registered this function returns the empty hash.</li> <li><code>GetState()</code> returns the in-memory dirty state for the given key hash, if not exist load the committed value from KVStore.</li> <li><code>SetState()</code> sets the given hashes (key, value) to the state. If the value hash is empty, this function deletes the key from the state, the new value is kept in dirty state at first, and will be committed to KVStore in the end.</li></ul> <p>Accounts can also be set to a suicide state. When a contract commits suicide, the account is marked as suicided, when committing the code, storage and account are deleted (from the next block and forward).</p> <ul><li><code>Suicide()</code> marks the given account as suicided and clears the account balance of the EVM tokens.</li> <li><code>HasSuicided()</code> queries the in-memory flag to check if the account has been marked as suicided in the current transaction. Accounts that are suicided will be returned as non-nil during queries and &quot;cleared&quot; after the block has been committed.</li></ul> <p>To check account existence use <code>Exist()</code> and <code>Empty()</code>.</p> <ul><li><code>Exist()</code> returns true if the given account exists in store or if it has been
marked as suicided.</li> <li><code>Empty()</code> returns true if the address meets the following conditions:
<ul><li>nonce is 0</li> <li>balance amount for evm denom is 0</li> <li>account code hash is empty</li></ul></li></ul> <h3 id="eip2930-functionality"><a href="#eip2930-functionality" class="header-anchor">#</a> EIP2930 functionality</h3> <p>Supports a transaction type that contains an <a href="https://eips.ethereum.org/EIPS/eip-2930" target="_blank" rel="noopener noreferrer">access list<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, a list of addresses, and storage keys that the transaction plans to access. The access list state is kept in memory and discarded after the transaction committed.</p> <ul><li><code>PrepareAccessList()</code> handles the preparatory steps for executing a state transition with regards to both EIP-2929 and EIP-2930. This method should only be called if Yolov3/Berlin/2929+2930 is applicable at the current number.
<ul><li>Add sender to access list (EIP-2929)</li> <li>Add destination to access list (EIP-2929)</li> <li>Add precompiles to access list (EIP-2929)</li> <li>Add the contents of the optional tx access list (EIP-2930)</li></ul></li> <li><code>AddressInAccessList()</code> returns true if the address is registered.</li> <li><code>SlotInAccessList()</code> checks if the address and the slots are registered.</li> <li><code>AddAddressToAccessList()</code> adds the given address to the access list. If the address is already in the access list, this function performs a no-op.</li> <li><code>AddSlotToAccessList()</code> adds the given (address, slot) to the access list. If the address and slot are already in the access list, this function performs a no-op.</li></ul> <h3 id="snapshot-state-and-revert-functionality"><a href="#snapshot-state-and-revert-functionality" class="header-anchor">#</a> Snapshot state and Revert functionality</h3> <p>The EVM uses state-reverting exceptions to handle errors. Such an exception will undo all changes made to the state in the current call (and all its sub-calls), and the caller could handle the error and don't propagate. You can use <code>Snapshot()</code> to identify the current state with a revision and revert the state to a given revision with <code>RevertToSnapshot()</code> to support this feature.</p> <ul><li><code>Snapshot()</code> creates a new snapshot and returns the identifier.</li> <li><code>RevertToSnapshot(rev)</code> undo all the modifications up to the snapshot identified as <code>rev</code>.</li></ul> <p>Evmos adapted the <a href="https://github.com/ethereum/go-ethereum/blob/master/core/state/journal.go#L39" target="_blank" rel="noopener noreferrer">go-ethereum journal implementation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to support this, it uses a list of journal logs to record all the state modification operations done so far,
snapshot is consists of a unique id and an index in the log list, and to revert to a snapshot it just undo the journal logs after the snapshot index in reversed order.</p> <h3 id="ethereum-transaction-logs"><a href="#ethereum-transaction-logs" class="header-anchor">#</a> Ethereum Transaction logs</h3> <p>With <code>AddLog()</code> you can append the given ethereum <code>Log</code> to the list of Logs associated with the transaction hash kept in the current state. This function also fills in the tx hash, block hash, tx index and log index fields before setting the log to store.</p> <h2 id="keeper"><a href="#keeper" class="header-anchor">#</a> Keeper</h2> <p>The EVM module <code>Keeper</code> grants access to the EVM module state and implements <code>statedb.Keeper</code> interface to support the <code>StateDB</code> implementation. The Keeper contains a store key that allows the DB to write to a concrete subtree of the multistore that is only accessible to the EVM module. Instead of using a trie and database for querying and persistence (the <code>StateDB</code> implementation on Ethermint), use the Cosmos <code>KVStore</code> (key-value store) and Cosmos SDK <code>Keeper</code> to facilitate state transitions.</p> <p>To support the interface functionality, it imports 4 module Keepers:</p> <ul><li><code>auth</code>: CRUD accounts</li> <li><code>bank</code>: accounting (supply) and CRUD of balances</li> <li><code>staking</code>: query historical headers</li> <li><code>fee market</code>: EIP1559 base fee for processing <code>DynamicFeeTx</code> after the <code>London</code> hard fork has been activated on the <code>ChainConfig</code> parameters</li></ul> <span class="codeblock" data-v-1eda75b2><span class="container codeblock__hasfooter__false codeblock__is-expandable__false codeblock__expanded__false" data-v-1eda75b2><span class="body__container" data-v-1eda75b2><span class="body__block" data-v-1eda75b2><span class="icons" data-v-1eda75b2><!----> <span class="icons__item" data-v-1eda75b2><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="icons__item__icon" data-v-1eda75b2><path fill-rule="evenodd" clip-rule="evenodd" d="M11 0.25C10.0335 0.25 9.25 1.0335 9.25 2V4.5H10.75V2C10.75 1.86193 10.8619 1.75 11 1.75H21C21.1381 1.75 21.25 1.86193 21.25 2V16C21.25 16.1381 21.1381 16.25 21 16.25H16.5V17.75H21C21.9665 17.75 22.75 16.9665 22.75 16V2C22.75 1.0335 21.9665 0.25 21 0.25H11ZM3 6.25C2.0335 6.25 1.25 7.0335 1.25 8V22C1.25 22.9665 2.0335 23.75 3 23.75H13C13.9665 23.75 14.75 22.9665 14.75 22V8C14.75 7.0335 13.9665 6.25 13 6.25H3ZM2.75 8C2.75 7.86193 2.86193 7.75 3 7.75H13C13.1381 7.75 13.25 7.86193 13.25 8V22C13.25 22.1381 13.1381 22.25 13 22.25H3C2.86193 22.25 2.75 22.1381 2.75 22V8Z" data-v-1eda75b2></path></svg> <span class="icons__item__tooltip" data-v-1eda75b2>
              Copy
            </span></span></span> <span class="body" data-v-1eda75b2><span class="body__wrapper" data-v-1eda75b2><span class="body__code" data-v-1eda75b2><span class="token keyword">type</span> Keeper <span class="token keyword">struct</span> <span class="token punctuation">{</span>
 <span class="token comment">// Protobuf codec</span>
 cdc codec<span class="token punctuation">.</span>BinaryCodec
 <span class="token comment">// Store key required for the EVM Prefix KVStore. It is required by:</span>
 <span class="token comment">// - storing account's Storage State</span>
 <span class="token comment">// - storing account's Code</span>
 <span class="token comment">// - storing Bloom filters by block height. Needed for the Web3 API.</span>
 <span class="token comment">// For the full list, check the module specification</span>
 storeKey sdk<span class="token punctuation">.</span>StoreKey

 <span class="token comment">// key to access the transient store, which is reset on every block during Commit</span>
 transientKey sdk<span class="token punctuation">.</span>StoreKey

 <span class="token comment">// module specific parameter space that can be configured through governance</span>
 paramSpace paramtypes<span class="token punctuation">.</span>Subspace
 <span class="token comment">// access to account state</span>
 accountKeeper types<span class="token punctuation">.</span>AccountKeeper
 <span class="token comment">// update balance and accounting operations with coins</span>
 bankKeeper types<span class="token punctuation">.</span>BankKeeper
 <span class="token comment">// access historical headers for EVM state transition execution</span>
 stakingKeeper types<span class="token punctuation">.</span>StakingKeeper
 <span class="token comment">// fetch EIP1559 base fee and parameters</span>
 feeMarketKeeper types<span class="token punctuation">.</span>FeeMarketKeeper

 <span class="token comment">// chain ID number obtained from the context's chain id</span>
 eip155ChainID <span class="token operator">*</span>big<span class="token punctuation">.</span>Int

 <span class="token comment">// Tracer used to collect execution traces from the EVM transaction execution</span>
 tracer <span class="token builtin">string</span>
 <span class="token comment">// trace EVM state transition execution. This value is obtained from the `--trace` flag.</span>
 <span class="token comment">// For more info check https://geth.ethereum.org/docs/dapp/tracing</span>
 debug <span class="token builtin">bool</span>

 <span class="token comment">// EVM Hooks for tx post-processing</span>
 hooks types<span class="token punctuation">.</span>EvmHooks
<span class="token punctuation">}</span>
</span></span></span></span> <!----></span> <!----></span></span> <h2 id="genesis-state"><a href="#genesis-state" class="header-anchor">#</a> Genesis State</h2> <p>The <code>x/evm</code> module <code>GenesisState</code> defines the state necessary for initializing the chain from a previous exported height. It contains the <code>GenesisAccounts</code> and the module parameters</p> <span class="codeblock" data-v-1eda75b2><span class="container codeblock__hasfooter__false codeblock__is-expandable__false codeblock__expanded__false" data-v-1eda75b2><span class="body__container" data-v-1eda75b2><span class="body__block" data-v-1eda75b2><span class="icons" data-v-1eda75b2><!----> <span class="icons__item" data-v-1eda75b2><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="icons__item__icon" data-v-1eda75b2><path fill-rule="evenodd" clip-rule="evenodd" d="M11 0.25C10.0335 0.25 9.25 1.0335 9.25 2V4.5H10.75V2C10.75 1.86193 10.8619 1.75 11 1.75H21C21.1381 1.75 21.25 1.86193 21.25 2V16C21.25 16.1381 21.1381 16.25 21 16.25H16.5V17.75H21C21.9665 17.75 22.75 16.9665 22.75 16V2C22.75 1.0335 21.9665 0.25 21 0.25H11ZM3 6.25C2.0335 6.25 1.25 7.0335 1.25 8V22C1.25 22.9665 2.0335 23.75 3 23.75H13C13.9665 23.75 14.75 22.9665 14.75 22V8C14.75 7.0335 13.9665 6.25 13 6.25H3ZM2.75 8C2.75 7.86193 2.86193 7.75 3 7.75H13C13.1381 7.75 13.25 7.86193 13.25 8V22C13.25 22.1381 13.1381 22.25 13 22.25H3C2.86193 22.25 2.75 22.1381 2.75 22V8Z" data-v-1eda75b2></path></svg> <span class="icons__item__tooltip" data-v-1eda75b2>
              Copy
            </span></span></span> <span class="body" data-v-1eda75b2><span class="body__wrapper" data-v-1eda75b2><span class="body__code" data-v-1eda75b2><span class="token keyword">type</span> GenesisState <span class="token keyword">struct</span> <span class="token punctuation">{</span>
  <span class="token comment">// accounts is an array containing the ethereum genesis accounts.</span>
  Accounts <span class="token punctuation">[</span><span class="token punctuation">]</span>GenesisAccount <span class="token string">`protobuf:"bytes,1,rep,name=accounts,proto3" json:"accounts"`</span>
  <span class="token comment">// params defines all the parameters of the module.</span>
  Params Params <span class="token string">`protobuf:"bytes,2,opt,name=params,proto3" json:"params"`</span>
<span class="token punctuation">}</span>
</span></span></span></span> <!----></span> <!----></span></span> <h2 id="genesis-accounts"><a href="#genesis-accounts" class="header-anchor">#</a> Genesis Accounts</h2> <p>The <code>GenesisAccount</code> type corresponds to an adaptation of the Ethereum <code>GenesisAccount</code> type. It defines an account to be initialized in the genesis state.</p> <p>Its main difference is that the one on Ethermint uses a custom <code>Storage</code> type that uses a slice instead of maps for the evm <code>State</code> (due to non-determinism), and that it doesn't contain the private key field.</p> <p>It is also important to note that since the <code>auth</code> module on the Cosmos SDK manages the account state,  the <code>Address</code> field must correspond to an existing <code>EthAccount</code> that is stored in the <code>auth</code>'s module <code>Keeper</code> (i.e <code>AccountKeeper</code>). Addresses use the <strong><a href="https://eips.ethereum.org/EIPS/eip-55" target="_blank" rel="noopener noreferrer">EIP55<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> hex <strong><a href="https://evmos.dev/basics/accounts.html#address-formats-for-clients" target="_blank" rel="noopener noreferrer">format<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> on <code>genesis.json</code>.</p> <span class="codeblock" data-v-1eda75b2><span class="container codeblock__hasfooter__false codeblock__is-expandable__false codeblock__expanded__false" data-v-1eda75b2><span class="body__container" data-v-1eda75b2><span class="body__block" data-v-1eda75b2><span class="icons" data-v-1eda75b2><!----> <span class="icons__item" data-v-1eda75b2><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="icons__item__icon" data-v-1eda75b2><path fill-rule="evenodd" clip-rule="evenodd" d="M11 0.25C10.0335 0.25 9.25 1.0335 9.25 2V4.5H10.75V2C10.75 1.86193 10.8619 1.75 11 1.75H21C21.1381 1.75 21.25 1.86193 21.25 2V16C21.25 16.1381 21.1381 16.25 21 16.25H16.5V17.75H21C21.9665 17.75 22.75 16.9665 22.75 16V2C22.75 1.0335 21.9665 0.25 21 0.25H11ZM3 6.25C2.0335 6.25 1.25 7.0335 1.25 8V22C1.25 22.9665 2.0335 23.75 3 23.75H13C13.9665 23.75 14.75 22.9665 14.75 22V8C14.75 7.0335 13.9665 6.25 13 6.25H3ZM2.75 8C2.75 7.86193 2.86193 7.75 3 7.75H13C13.1381 7.75 13.25 7.86193 13.25 8V22C13.25 22.1381 13.1381 22.25 13 22.25H3C2.86193 22.25 2.75 22.1381 2.75 22V8Z" data-v-1eda75b2></path></svg> <span class="icons__item__tooltip" data-v-1eda75b2>
              Copy
            </span></span></span> <span class="body" data-v-1eda75b2><span class="body__wrapper" data-v-1eda75b2><span class="body__code" data-v-1eda75b2><span class="token keyword">type</span> GenesisAccount <span class="token keyword">struct</span> <span class="token punctuation">{</span>
  <span class="token comment">// address defines an ethereum hex formated address of an account</span>
  Address <span class="token builtin">string</span> <span class="token string">`protobuf:"bytes,1,opt,name=address,proto3" json:"address,omitempty"`</span>
  <span class="token comment">// code defines the hex bytes of the account code.</span>
  Code <span class="token builtin">string</span> <span class="token string">`protobuf:"bytes,2,opt,name=code,proto3" json:"code,omitempty"`</span>
  <span class="token comment">// storage defines the set of state key values for the account.</span>
  Storage Storage <span class="token string">`protobuf:"bytes,3,rep,name=storage,proto3,castrepeated=Storage" json:"storage"`</span>
<span class="token punctuation">}</span>
</span></span></span></span> <!----></span> <!----></span></span></div><!----></div></div></div></div><div class="layout__main__content__aside__container" style="--height-banners:nullpx;" data-v-58560e81><div class="layout__main__content__aside aside__bottom__false" data-v-58560e81><!----></div><div class="layout__main__content__aside__banners" data-v-58560e81><a href="https://github.com/planq-network/planq/issues" target="_blank" data-v-58560e81><div data-v-31935645 data-v-58560e81><div class="container" data-v-31935645><svg width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="icon" data-v-31935645><path d="M0.836491 13.7697C0.543598 14.0626 0.543598 14.5374 0.836492 14.8303C1.12939 15.1232 1.60426 15.1232 1.89715 14.8303L0.836491 13.7697ZM14.7729 1.95457C15.0658 1.66168 15.0658 1.1868 14.7729 0.893912C14.48 0.601019 14.0051 0.601019 13.7122 0.893913L14.7729 1.95457ZM14.6668 1H15.4168V0.25H14.6668V1ZM4.48498 0.25C4.07077 0.25 3.73498 0.585786 3.73498 1C3.73498 1.41421 4.07077 1.75 4.48498 1.75V0.25ZM13.9168 11.1818C13.9168 11.596 14.2526 11.9318 14.6668 11.9318C15.081 11.9318 15.4168 11.596 15.4168 11.1818H13.9168ZM1.89715 14.8303L14.7729 1.95457L13.7122 0.893913L0.836491 13.7697L1.89715 14.8303ZM14.6668 0.25H4.48498V1.75H14.6668V0.25ZM15.4168 11.1818V1H13.9168V11.1818H15.4168Z"></path></svg><div class="image" data-v-31935645><svg width="41" height="44" viewBox="0 0 41 44" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-31935645><path fill-rule="evenodd" clip-rule="evenodd" d="M4 1.8999H32C33.3807 1.8999 34.5 3.01919 34.5 4.3999V10.997L36 9.497V4.3999C36 2.19076 34.2091 0.399902 32 0.399902H4C1.79086 0.399902 0 2.19077 0 4.39991V39.5999C0 41.809 1.79086 43.5999 4 43.5999H32C34.2091 43.5999 36 41.809 36 39.5999V20.2096L34.5 21.7096V39.5999C34.5 40.9806 33.3807 42.0999 32 42.0999H4C2.61929 42.0999 1.5 40.9806 1.5 39.5999V4.39991C1.5 3.01919 2.61929 1.8999 4 1.8999ZM7.2 19.1999H26.2971L24.2971 21.1999H7.2V19.1999ZM7.2 15.7999H28.8V13.7999H7.2V15.7999ZM7.2 26.5999H16.2V24.5999H7.2V26.5999ZM20.8638 25.7372L20.7386 25.8624L20.6826 26.0303L18.9855 31.1215L18.4792 32.6406L19.9704 32.0571L24.8494 30.1479L24.9955 30.0908L25.1064 29.9798L37.9799 17.1063L39.7831 15.3032C40.9546 14.1316 40.9546 12.2321 39.7831 11.0606C38.6115 9.88898 36.712 9.88898 35.5404 11.0606L20.8638 25.7372ZM20.9149 30.0767L22.0496 26.6726L36.6011 12.1212C37.1869 11.5354 38.1366 11.5354 38.7224 12.1212C39.3082 12.707 39.3082 13.6567 38.7224 14.2425L37.4496 15.5153L36.2465 14.3122C35.9536 14.0193 35.4787 14.0193 35.1858 14.3122C34.8929 14.6051 34.8929 15.08 35.1858 15.3729L36.3889 16.576L24.5761 28.3888L23.6215 27.4342C23.3286 27.1413 22.8537 27.1413 22.5608 27.4342C22.2679 27.7271 22.2679 28.202 22.5608 28.4949L23.2349 29.1689L20.9149 30.0767Z" fill="var(--color-primary, blue)" data-v-31935645></path></svg></div><div class="h1" data-v-31935645>Found an Issue?</div><div class="h2" data-v-31935645>Help us improve this page by suggesting edits on GitHub.</div></div></div></a></div></div></div><div class="layout__main__gutter" data-v-58560e81><div data-v-15325c0d data-v-58560e81><div class="links" data-v-15325c0d><div class="links__wrapper" data-v-15325c0d><div class="links__container" data-v-15325c0d><a href="/modules/evm/01_concepts.html" class="links__item links__item__left" data-v-15325c0d><div class="links__item__icon" data-v-15325c0d><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 64 64" data-v-15325c0d><title data-v-15325c0d>arrow-right</title><g stroke-linecap="square" stroke-linejoin="miter" stroke-width="2" data-v-15325c0d><line fill="none" stroke-miterlimit="10" x1="61" y1="32" x2="3" y2="32" stroke-linecap="butt" data-v-15325c0d></line><polyline fill="none" stroke-miterlimit="10" points="21,14 3,32 21,50 " data-v-15325c0d></polyline></g></svg></div><div data-v-15325c0d><div class="links__label" data-v-15325c0d>Previous</div><div class="links__item__title" data-v-15325c0d>Concepts</div><!----></div></a></div></div><div class="links__wrapper" data-v-15325c0d><div class="links__container" data-v-15325c0d><a href="/modules/evm/03_state_transitions.html" class="links__item links__item__right" data-v-15325c0d><div data-v-15325c0d><div class="links__label" data-v-15325c0d>Next</div><div class="links__item__title" data-v-15325c0d>State Transitions</div><!----></div><div class="links__item__icon" data-v-15325c0d><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 64 64" data-v-15325c0d><title data-v-15325c0d>arrow-right</title><g stroke-linecap="square" stroke-linejoin="miter" stroke-width="2" data-v-15325c0d><line fill="none" stroke-miterlimit="10" x1="3" y1="32" x2="61" y2="32" stroke-linecap="butt" data-v-15325c0d></line><polyline fill="none" stroke-miterlimit="10" points="43,14 61,32 43,50 " data-v-15325c0d></polyline></g></svg></div></a></div></div></div></div></div><div class="layout__main__footer" data-v-58560e81><div data-v-732a47ec data-v-58560e81><div class="wrapper" data-v-732a47ec><div class="container" data-v-732a47ec><div class="footer__wrapper" data-v-732a47ec><!----><!----><div class="logo" data-v-732a47ec><div class="logo__item" data-v-732a47ec><a href="https://planq.network" target="_blank" rel="noreferrer noopener" tag="div" class="logo__image" data-v-732a47ec><img src="/planq-logo.svg" data-v-732a47ec></a></div><div class="logo__item logo__link" data-v-732a47ec><a href="https://github.com/planq-network/planq" target="_blank" title="github" rel="noreferrer noopener" class="smallprint__item__links__item" data-v-732a47ec><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" fill="#aaa" data-v-732a47ec><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" data-v-732a47ec></path></svg></a><a href="https://twitter.com/PlanqFoundation" target="_blank" title="twitter" rel="noreferrer noopener" class="smallprint__item__links__item" data-v-732a47ec><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" fill="#aaa" data-v-732a47ec><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z" data-v-732a47ec></path></svg></a></div></div><div class="smallprint" data-v-732a47ec><div class="smallprint__item smallprint__item__links" data-v-732a47ec><a href="https://planq.network" data-v-732a47ec>planq.network</a></div><div class="smallprint__item__desc smallprint__item" data-v-732a47ec><div>This website is maintained by Planq Foundation</div></div></div></div></div></div></div></div></div></div><div class="sheet__sidebar" data-v-ec82e5e0 data-v-58560e81><!----> <!----></div><div class="sheet__sidebar" data-v-ec82e5e0 data-v-58560e81><!----> <!----></div><div class="sheet__sidebar sheet__sidebar__toc" data-v-ec82e5e0 data-v-58560e81><!----> <!----></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8ef58bd5.js" defer></script><script src="/assets/js/27.80033ee3.js" defer></script><script src="/assets/js/24.f3de3d45.js" defer></script><script src="/assets/js/23.20171674.js" defer></script><script src="/assets/js/28.94d514cd.js" defer></script><script src="/assets/js/57.73461461.js" defer></script><script src="/assets/js/41.b938ef88.js" defer></script><script src="/assets/js/14.fd987f63.js" defer></script><script src="/assets/js/11.3acba2a2.js" defer></script><script src="/assets/js/112.6bc6b84f.js" defer></script><script src="/assets/js/5.93e4b9e7.js" defer></script><script src="/assets/js/9.803ced14.js" defer></script><script src="/assets/js/39.463897c0.js" defer></script><script src="/assets/js/17.abd2498d.js" defer></script><script src="/assets/js/16.031598e8.js" defer></script><script src="/assets/js/29.ce14c24e.js" defer></script>
  </body>
</html>
