(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{619:function(t,a,e){"use strict";e.r(a);var c=e(1),l=Object(c.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"concepts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#concepts"}},[t._v("#")]),t._v(" Concepts")]),t._v(" "),a("h2",{attrs:{id:"authorization-and-grant"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authorization-and-grant"}},[t._v("#")]),t._v(" Authorization and Grant")]),t._v(" "),a("p",[a("code",[t._v("x/authz")]),t._v(" module defines interfaces and messages grant authorizations to perform actions\non behalf of one account to other accounts. The design is defined in the "),a("RouterLink",{attrs:{to:"/architecture/adr-030-authz-module.html"}},[t._v("ADR 030")]),t._v(".")],1),t._v(" "),a("p",[t._v("Grant is an allowance to execute a Msg by the grantee on behalf of the granter.\nAuthorization is an interface which must be implemented by a concrete authorization logic to validate and execute grants. They are extensible and can be defined for any Msg service method even outside of the module where the Msg method is defined. See the "),a("code",[t._v("SendAuthorization")]),t._v(" example in the next section for more details.")]),t._v(" "),a("p",[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dHlwZSBBdXRob3JpemF0aW9uIGludGVyZmFjZSB7Cglwcm90by5NZXNzYWdlCgoJLy8gTXNnVHlwZVVSTCByZXR1cm5zIHRoZSBmdWxseS1xdWFsaWZpZWQgTXNnIHNlcnZpY2UgbWV0aG9kIFVSTCAoYXMgZGVzY3JpYmVkIGluIEFEUiAwMzEpLAoJLy8gd2hpY2ggd2lsbCBwcm9jZXNzIGFuZCBhY2NlcHQgb3IgcmVqZWN0IGEgcmVxdWVzdC4KCU1zZ1R5cGVVUkwoKSBzdHJpbmcKCgkvLyBBY2NlcHQgZGV0ZXJtaW5lcyB3aGV0aGVyIHRoaXMgZ3JhbnQgcGVybWl0cyB0aGUgcHJvdmlkZWQgc2RrLlNlcnZpY2VNc2cgdG8gYmUgcGVyZm9ybWVkLCBhbmQgaWYKCS8vIHNvIHByb3ZpZGVzIGFuIHVwZ3JhZGVkIGF1dGhvcml6YXRpb24gaW5zdGFuY2UuCglBY2NlcHQoY3R4IHNkay5Db250ZXh0LCBtc2cgc2RrLk1zZykgKEFjY2VwdFJlc3BvbnNlLCBlcnJvcikKCgkvLyBWYWxpZGF0ZUJhc2ljIGRvZXMgYSBzaW1wbGUgdmFsaWRhdGlvbiBjaGVjayB0aGF0CgkvLyBkb2Vzbid0IHJlcXVpcmUgYWNjZXNzIHRvIGFueSBvdGhlciBpbmZvcm1hdGlvbi4KCVZhbGlkYXRlQmFzaWMoKSBlcnJvcgp9"}})],1),t._v(" "),a("h2",{attrs:{id:"built-in-authorizations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#built-in-authorizations"}},[t._v("#")]),t._v(" Built-in Authorizations")]),t._v(" "),a("p",[t._v("Cosmos-SDK "),a("code",[t._v("x/authz")]),t._v(" module comes with following authorization types")]),t._v(" "),a("h3",{attrs:{id:"sendauthorization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sendauthorization"}},[t._v("#")]),t._v(" SendAuthorization")]),t._v(" "),a("p",[a("code",[t._v("SendAuthorization")]),t._v(" implements the "),a("code",[t._v("Authorization")]),t._v(" interface for the "),a("code",[t._v("cosmos.bank.v1beta1.MsgSend")]),t._v(" Msg. It takes a "),a("code",[t._v("SpendLimit")]),t._v(" that specifies the maximum amount of tokens the grantee can spend, which is updated as the tokens are spent.")]),t._v(" "),a("p",[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"false",base64:"Ly8gU2VuZEF1dGhvcml6YXRpb24gYWxsb3dzIHRoZSBncmFudGVlIHRvIHNwZW5kIHVwIHRvIHNwZW5kX2xpbWl0IGNvaW5zIGZyb20KLy8gdGhlIGdyYW50ZXIncyBhY2NvdW50LgptZXNzYWdlIFNlbmRBdXRob3JpemF0aW9uIHsKICBvcHRpb24gKGNvc21vc19wcm90by5pbXBsZW1lbnRzX2ludGVyZmFjZSkgPSAmcXVvdDtBdXRob3JpemF0aW9uJnF1b3Q7OwoKICByZXBlYXRlZCBjb3Ntb3MuYmFzZS52MWJldGExLkNvaW4gc3BlbmRfbGltaXQgPSAxCiAgICAgIFsoZ29nb3Byb3RvLm51bGxhYmxlKSA9IGZhbHNlLCAoZ29nb3Byb3RvLmNhc3RyZXBlYXRlZCkgPSAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzLkNvaW5zJnF1b3Q7XTsKfQo="}})],1),t._v(" "),a("p",[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gQWNjZXB0IGltcGxlbWVudHMgQXV0aG9yaXphdGlvbi5BY2NlcHQuCmZ1bmMgKGEgU2VuZEF1dGhvcml6YXRpb24pIEFjY2VwdChjdHggc2RrLkNvbnRleHQsIG1zZyBzZGsuTXNnKSAoYXV0aHouQWNjZXB0UmVzcG9uc2UsIGVycm9yKSB7CgltU2VuZCwgb2sgOj0gbXNnLigqTXNnU2VuZCkKCWlmICFvayB7CgkJcmV0dXJuIGF1dGh6LkFjY2VwdFJlc3BvbnNle30sIHNka2Vycm9ycy5FcnJJbnZhbGlkVHlwZS5XcmFwKCZxdW90O3R5cGUgbWlzbWF0Y2gmcXVvdDspCgl9CglsaW1pdExlZnQsIGlzTmVnYXRpdmUgOj0gYS5TcGVuZExpbWl0LlNhZmVTdWIobVNlbmQuQW1vdW50KQoJaWYgaXNOZWdhdGl2ZSB7CgkJcmV0dXJuIGF1dGh6LkFjY2VwdFJlc3BvbnNle30sIHNka2Vycm9ycy5FcnJJbnN1ZmZpY2llbnRGdW5kcy5XcmFwZigmcXVvdDtyZXF1ZXN0ZWQgYW1vdW50IGlzIG1vcmUgdGhhbiBzcGVuZCBsaW1pdCZxdW90OykKCX0KCWlmIGxpbWl0TGVmdC5Jc1plcm8oKSB7CgkJcmV0dXJuIGF1dGh6LkFjY2VwdFJlc3BvbnNle0FjY2VwdDogdHJ1ZSwgRGVsZXRlOiB0cnVlfSwgbmlsCgl9CgoJcmV0dXJuIGF1dGh6LkFjY2VwdFJlc3BvbnNle0FjY2VwdDogdHJ1ZSwgRGVsZXRlOiBmYWxzZSwgVXBkYXRlZDogJmFtcDtTZW5kQXV0aG9yaXphdGlvbntTcGVuZExpbWl0OiBsaW1pdExlZnR9fSwgbmlsCn0="}})],1),t._v(" "),a("ul",[a("li",[a("code",[t._v("spent_limit")]),t._v(" keeps track of how many coins are left in the authorization.")])]),t._v(" "),a("h3",{attrs:{id:"genericauthorization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#genericauthorization"}},[t._v("#")]),t._v(" GenericAuthorization")]),t._v(" "),a("p",[a("code",[t._v("GenericAuthorization")]),t._v(" implements the "),a("code",[t._v("Authorization")]),t._v(" interface, that gives unrestricted permission to execute the provided Msg on behalf of granter's account.")]),t._v(" "),a("p",[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"false",base64:"bWVzc2FnZSBHZW5lcmljQXV0aG9yaXphdGlvbiB7CiAgb3B0aW9uIChjb3Ntb3NfcHJvdG8uaW1wbGVtZW50c19pbnRlcmZhY2UpID0gJnF1b3Q7QXV0aG9yaXphdGlvbiZxdW90OzsKCiAgLy8gTXNnLCBpZGVudGlmaWVkIGJ5IGl0J3MgdHlwZSBVUkwsIHRvIGdyYW50IHVucmVzdHJpY3RlZCBwZXJtaXNzaW9ucyB0byBleGVjdXRlCiAgc3RyaW5nIG1zZyA9IDE7Cn0="}})],1),t._v(" "),a("p",[a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gTXNnVHlwZVVSTCBpbXBsZW1lbnRzIEF1dGhvcml6YXRpb24uTXNnVHlwZVVSTC4KZnVuYyAoYSBHZW5lcmljQXV0aG9yaXphdGlvbikgTXNnVHlwZVVSTCgpIHN0cmluZyB7CglyZXR1cm4gYS5Nc2cKfQoKLy8gQWNjZXB0IGltcGxlbWVudHMgQXV0aG9yaXphdGlvbi5BY2NlcHQuCmZ1bmMgKGEgR2VuZXJpY0F1dGhvcml6YXRpb24pIEFjY2VwdChjdHggc2RrLkNvbnRleHQsIG1zZyBzZGsuTXNnKSAoQWNjZXB0UmVzcG9uc2UsIGVycm9yKSB7CglyZXR1cm4gQWNjZXB0UmVzcG9uc2V7QWNjZXB0OiB0cnVlfSwgbmlsCn0KCi8vIFZhbGlkYXRlQmFzaWMgaW1wbGVtZW50cyBBdXRob3JpemF0aW9uLlZhbGlkYXRlQmFzaWMuCmZ1bmMgKGEgR2VuZXJpY0F1dGhvcml6YXRpb24pIFZhbGlkYXRlQmFzaWMoKSBlcnJvciB7CglyZXR1cm4gbmlsCn0="}})],1),t._v(" "),a("ul",[a("li",[a("code",[t._v("msg")]),t._v(" stores Msg type URL.")])]),t._v(" "),a("h2",{attrs:{id:"gas"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gas"}},[t._v("#")]),t._v(" Gas")]),t._v(" "),a("p",[t._v("In order to prevent DoS attacks, granting "),a("code",[t._v("StakeAuthorizaiton")]),t._v("s with "),a("code",[t._v("x/authz")]),t._v(" incur gas. "),a("code",[t._v("StakeAuthorizaiton")]),t._v(" allows you to authorize another account to delegate, undelegate, or redelegate to validators. The authorizer can define a list of validators they will allow and/or deny delegations to. The SDK will iterate over these lists and charge 10 gas for each validator in both of the lists.")])])}),[],!1,null,null,null);a.default=l.exports}}]);