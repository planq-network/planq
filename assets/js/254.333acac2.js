(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{704:function(t,a,e){"use strict";e.r(a);var o=e(1),s=Object(o.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"rollback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rollback"}},[t._v("#")]),t._v(" Rollback")]),t._v(" "),a("p",{attrs:{synopsis:""}},[t._v("Learn how to rollback the chain version in the case of an unsuccessful chain upgrade.")]),t._v(" "),a("p",[t._v("In order to restore a previous chain version, the following data must be recovered by validators:")]),t._v(" "),a("ul",[a("li",[t._v("the database that contains the state of the previous chain (in "),a("code",[t._v("~/.planqd/data")]),t._v(" by default)")]),t._v(" "),a("li",[t._v("the "),a("code",[t._v("priv_validator_state.json")]),t._v(" file of the validator (also in "),a("code",[t._v("~/.planqd/data")]),t._v(" by default)")])]),t._v(" "),a("p",[t._v("If validators don't possess their database data, another validator should share a copy of the database. Validators will be able to download a copy of the data and verify it before starting their node. If validators don't have the backup "),a("code",[t._v("priv_validator_state.json")]),t._v(" file, then those validators will not have double-sign protection on their first block.")]),t._v(" "),a("h2",{attrs:{id:"restoring-state-procedure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#restoring-state-procedure"}},[t._v("#")]),t._v(" Restoring State Procedure")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("First, stop your node.")])]),t._v(" "),a("li",[a("p",[t._v("Then, copy the contents of your backup data directory back to the "),a("code",[t._v("$PLANQ_HOME/data")]),t._v(" directory (which, by default, should be "),a("code",[t._v("~/.planqd/data")]),t._v(").")])])]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyBBc3N1bWVzIGJhY2t1cCBpcyBzdG9yZWQgaW4gJnF1b3Q7YmFja3VwJnF1b3Q7IGRpcmVjdG9yeQpybSAtcmYgfi8ucGxhbnFkL2RhdGEKbXYgYmFja3VwLy5wbGFucWQvZGF0YSB+Ly5wbGFucWQvZGF0YQo="}}),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("Next, install the previous version of Planq.")])]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyBmcm9tIHBsYW5xIGRpcmVjdG9yeQpnaXQgY2hlY2tvdXQgJmx0O3ByZXZfdmVyc2lvbiZndDsKbWFrZSBpbnN0YWxsCiMjIHZlcmlmeSB2ZXJzaW9uCnBsYW5xZCB2ZXJzaW9uIC0tbG9uZwo="}}),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("Finally, start the node.")])]),t._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"cGxhbnFkIHN0YXJ0Cg=="}})],1)}),[],!1,null,null,null);a.default=s.exports}}]);